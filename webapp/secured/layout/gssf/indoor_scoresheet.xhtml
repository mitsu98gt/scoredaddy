<ui:composition template="/secured/layout/layout.xhtml"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:pe="http://primefaces.org/ui/extensions"
        xmlns:p="http://primefaces.org/ui">
    <ui:define name="pageContent">
    <div class="ui-fluid">
        <h:form id="scoresheet">

            <p:panelGrid id="grid1" style="margin-top:20px;width:90%">

                <p:row>
                    <img src="../../../images/gssf_indoor_banner.png"/><br/>
                </p:row>

                <p:row style="text-align:center">
                    <p:selectOneMenu required="true" id="competition" label="Competition" value="#{scoresheetBean.competition}" converter="#{competitionConverter}" requiredMessage="Competition is required." style="width:180px;">
                        <p:ajax listener="#{scoresheetBean.onCompetitionChange}" update="name,date,model" />
                        <f:selectItem itemLabel="Select Competition" itemValue="" />
                        <f:selectItems value="#{scoresheetBean.allCompetitions}" var="competition" itemLabel="#{competition.name}" itemValue="#{competition}"/>
                    </p:selectOneMenu>
                </p:row>

                <p:row style="text-align:center;background-color:#bfbfbf">
                    <p:column><b>Name</b></p:column>
                    <p:column><b>Date</b></p:column>
                    <p:column><b>Model</b></p:column>
                    <p:column><b>Entry Number</b></p:column>
                </p:row>

                <p:row style="text-align:center">
                    <p:column>
                        <p:autoComplete id="name" label="Name"
                                        required="true" dropdown="true" maxlength="40" requiredMessage="Name is required."
                                        minQueryLength="3"
                                        value="#{scoresheetBean.scoreSheet.competitor}"
                                        completeMethod="#{scoresheetBean.complete}"
                                        var="competitor"
                                        itemValue="#{competitor}"
                                        itemLabel="#{competitor.fullName}" converter="#{competitorConverter}">
                        </p:autoComplete>
                    </p:column>
                    <p:column>
                        <p:calendar required="true" label="Date" inputStyle="width:200px" id="date" value="#{scoresheetBean.scoreSheet.date}" showOn="button" pattern="MM-dd-yyyy" mask="true" requiredMessage="Date is required."/>
                    </p:column>
                    <p:column>
                        <p:selectOneMenu required="true" id="model" label="Model" value="#{scoresheetBean.scoreSheet.firearm}" converter="#{firearmConverter}" requiredMessage="Model is required.">
                            <f:selectItem itemLabel="Select Model" itemValue="" />
                            <f:selectItems value="#{scoresheetBean.firearmList}" var="firearm" itemLabel="#{firearm.model}" itemValue="#{firearm}"/>
                        </p:selectOneMenu>
                    </p:column>
                    <p:column>
                        <p:inputText id="entry" required="false" label="Entry Number" value="#{scoresheetBean.scoreSheet.entry}" style="text-align:center;width:110px" maxlength="10"/>
                    </p:column>
                </p:row>
            </p:panelGrid>

            <p:panelGrid style="margin-top:20px;width:90%">
                <p:row>
                    <p:column>
                        <p:selectBooleanCheckbox id="stock" itemLabel="Stock" value="#{scoresheetBean.stockDivision}" layout="responsive"/>
                    </p:column>
                    <p:column/>
                    <p:column>
                        <p:selectBooleanCheckbox id="unlimited" itemLabel="Unlimited" value="#{scoresheetBean.unlimitedDivision}" layout="responsive"/>
                        <br/>(Excluding G36, G42, G43, G44)
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:selectBooleanCheckbox id="pocket" itemLabel="Pocket" value="#{scoresheetBean.pocketDivision}" layout="responsive"/>
                    </p:column>
                    <p:column/>
                    <p:column>
                        <p:selectBooleanCheckbox id="rimfire" itemLabel="Rimfire" value="#{scoresheetBean.rimfireDivision}" layout="responsive"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column>
                        <p:selectBooleanCheckbox id="woman" itemLabel="Woman" value="#{scoresheetBean.womanDivision}" layout="responsive"/>
                    </p:column>
                    <p:column>
                        <p:selectBooleanCheckbox id="senior" itemLabel="Senior(55+)" value="#{scoresheetBean.seniorDivision}" layout="responsive"/>
                    </p:column>
                    <p:column>
                        <p:selectBooleanCheckbox id="junior" itemLabel="Junior(&lt;18)" value="#{scoresheetBean.juniorDivision}" layout="responsive"/>
                    </p:column>
                </p:row>
            </p:panelGrid>

            <p:row>
                <img src="../../../images/gssf_indoor_attention.png"/><br/>
            </p:row>

            <p:panelGrid style="margin-top:20px;width:90%">

                <p:row style="text-align:center;background-color:#bfbfbf">
                    <p:column style="width:75px">
                        <p:outputLabel value=""/>
                    </p:column>
                    <p:column style="width:100px">
                        <b>X's</b>
                    </p:column>
                    <p:column style="width:100px">
                        <b>10's</b>
                    </p:column>
                    <p:column style="width:100px">
                        <b>8's</b>
                    </p:column>
                    <p:column style="width:100px">
                        <b>5's</b>
                    </p:column>
                    <p:column style="width:100px">
                        <b>Misses</b>
                    </p:column>
                    <p:column style="width:190px">
                        <b>Total Hits/Misses</b>
                    </p:column>
                </p:row>

                <p:row style="text-align:center">
                    <p:column>
                        Target 1
                    </p:column>
                    <p:column>
                        <p:inputText id="targetonex" value="#{scoresheetBean.scoreSheet.targetOne.x}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targetoneten" value="#{scoresheetBean.scoreSheet.targetOne.ten}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targetoneeight" value="#{scoresheetBean.scoreSheet.targetOne.eight}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targetonefive" value="#{scoresheetBean.scoreSheet.targetOne.five}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targetonemisses" value="#{scoresheetBean.scoreSheet.targetOne.misses}"  required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel id="targetonetotal" value="#{scoresheetBean.scoreSheet.targetOne.total}"/>
                    </p:column>
                </p:row>

                <p:row style="text-align:center">
                    <p:column>
                        Target 2
                    </p:column>
                    <p:column>
                        <p:inputText id="targettwox" value="#{scoresheetBean.scoreSheet.targetTwo.x}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targettwoten" value="#{scoresheetBean.scoreSheet.targetTwo.ten}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targettwoeight" value="#{scoresheetBean.scoreSheet.targetTwo.eight}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targettwofive" value="#{scoresheetBean.scoreSheet.targetTwo.five}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="targettwomisses" value="#{scoresheetBean.scoreSheet.targetTwo.misses}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel id="targettwototal" value="#{scoresheetBean.scoreSheet.targetTwo.total}"/>
                    </p:column>
                </p:row>

                <p:row style="text-align:center">
                    <p:column>
                        Sum *
                    </p:column>
                    <p:column>
                        <p:outputLabel id="sumx" value="#{scoresheetBean.scoreSheet.sumRow.x}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="sumten" value="#{scoresheetBean.scoreSheet.sumRow.ten}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="sumeight" value="#{scoresheetBean.scoreSheet.sumRow.eight}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="sumfive" value="#{scoresheetBean.scoreSheet.sumRow.five}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="summisses" value="#{scoresheetBean.scoreSheet.sumRow.misses}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="sumtotal" value="#{scoresheetBean.scoreSheet.sumRow.total}" />
                    </p:column>
                </p:row>

                <p:row style="text-align:center;background-color:#bfbfbf">
                    <p:column>
                        <p:outputLabel value=""/>
                    </p:column>
                    <p:column>
                        <b>(X10)</b>
                    </p:column>
                    <p:column>
                        <b>(X10)</b>
                    </p:column>
                    <p:column>
                        <b>(X8)</b>
                    </p:column>
                    <p:column>
                        <b>(X5)</b>
                    </p:column>
                    <p:column>
                        <b>No Penalty</b>
                    </p:column>
                    <p:column>
                        <b>Final Score</b>
                    </p:column>
                </p:row>

                <p:row style="text-align:center">
                    <p:column>
                        Total **
                    </p:column>
                    <p:column>
                        <p:outputLabel id="totalx" value="#{scoresheetBean.scoreSheet.totalRow.x}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="totalten" value="#{scoresheetBean.scoreSheet.totalRow.ten}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="totaleight" value="#{scoresheetBean.scoreSheet.totalRow.eight}" />
                    </p:column>
                    <p:column>
                        <p:outputLabel id="totalfive" value="#{scoresheetBean.scoreSheet.totalRow.five}" />
                    </p:column>
                    <p:column>
                        <p:inputText id="penalty" value="#{scoresheetBean.scoreSheet.targetOne.misses + scoresheetBean.scoreSheet.targetTwo.misses}" required="false" maxlength="2" style="text-align:center;width:50px" disabled="true"/>
                    </p:column>
                    <p:column>
                        <p:outputLabel id="finalscore" value="#{scoresheetBean.scoreSheet.finalScore}" />
                    </p:column>
                </p:row>

            </p:panelGrid>

            <p:panelGrid style="margin-top:20px;width:90%">
                <p:row>
                    <p:column style="font-size: small">* Add the target scores for Target 1 and Target 2<br/>** Multiply Total Scores for the two targets by the number at the bottom of the column.</p:column>
                    <p:column style="background-color:#bfbfbf"><b>R/O Initials</b></p:column>
                    <p:column style="background-color:#bfbfbf"><b>Competitor Initials</b></p:column>
                </p:row>
                <p:row>
                    <p:column/>
                    <p:column>
                        <p:inputText id="rangeofficerinitials" value="#{scoresheetBean.scoreSheet.rangeOfficerInitials}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                    <p:column>
                        <p:inputText id="competitorinitials" value="#{scoresheetBean.scoreSheet.competitorInitials}" required="false" maxlength="2" style="text-align:center;width:50px"/>
                    </p:column>
                </p:row>
            </p:panelGrid>

            <p:row>
                <img src="../../../images/gssf_indoor_target.png"/><br/>
            </p:row>

            <br/>
            <p:commandButton value="Calculate Score" id="scoreMeBtn" actionListener="#{scoresheetBean.doScore}" ajax="false" style="width:210px" icon="fa fa-bullseye"/>
            <p:commandButton value="Download" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-arrowthick-1-s" style="width:150px">
                <p:fileDownload value="#{scoresheetBean.file}" />
            </p:commandButton>
            <p:commandButton value="Save Scores" id="persistBtn" actionListener="#{scoresheetBean.saveToDatabase}" ajax="false" style="width:250px" icon="fa fa-save"/>
            <br/>
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" style="width:610px;"/>
        </h:form>
    </div>
    </ui:define>
</ui:composition>